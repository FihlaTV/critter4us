<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Sequel::Model::InstanceMethods</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Sequel::Model::InstanceMethods</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/sequel/model/base_rb.html">
                lib/sequel/model/base.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="../Model.html">Sequel::Model</a> instance methods that implement
basic model functionality.
</p>
<ul>
<li>All of the methods in HOOKS create instance methods that are called by <a
href="../../Sequel.html">Sequel</a> when the appropriate action occurs. For
example, when destroying a model object, <a
href="../../Sequel.html">Sequel</a> will call before_destroy, do the <a
href="InstanceMethods.html#M000516">destroy</a>, and then call
after_destroy.

</li>
<li>The following instance_methods all call the class method of the same name:
columns, dataset, db, primary_key, db_schema.

</li>
<li>The following instance methods allow boolean flags to be <a
href="InstanceMethods.html#M000531">set</a> on a per-object basis:
raise_on_save_failure, raise_on_typecast_failure, strict_param_setting,
typecast_empty_string_to_nil, typecast_on_assignment, use_transactions. If
they are not used, the object will default to whatever the model setting
is.

</li>
</ul>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000510">==</a>&nbsp;&nbsp;
      <a href="#M000512">===</a>&nbsp;&nbsp;
      <a href="#M000508">[]</a>&nbsp;&nbsp;
      <a href="#M000509">[]=</a>&nbsp;&nbsp;
      <a href="#M000513">associations</a>&nbsp;&nbsp;
      <a href="#M000514">changed_columns</a>&nbsp;&nbsp;
      <a href="#M000515">delete</a>&nbsp;&nbsp;
      <a href="#M000516">destroy</a>&nbsp;&nbsp;
      <a href="#M000517">each</a>&nbsp;&nbsp;
      <a href="#M000511">eql?</a>&nbsp;&nbsp;
      <a href="#M000518">errors</a>&nbsp;&nbsp;
      <a href="#M000519">exists?</a>&nbsp;&nbsp;
      <a href="#M000520">hash</a>&nbsp;&nbsp;
      <a href="#M000521">id</a>&nbsp;&nbsp;
      <a href="#M000522">inspect</a>&nbsp;&nbsp;
      <a href="#M000523">keys</a>&nbsp;&nbsp;
      <a href="#M000507">new</a>&nbsp;&nbsp;
      <a href="#M000524">new?</a>&nbsp;&nbsp;
      <a href="#M000525">pk</a>&nbsp;&nbsp;
      <a href="#M000526">pk_hash</a>&nbsp;&nbsp;
      <a href="#M000527">refresh</a>&nbsp;&nbsp;
      <a href="#M000528">reload</a>&nbsp;&nbsp;
      <a href="#M000529">save</a>&nbsp;&nbsp;
      <a href="#M000530">save_changes</a>&nbsp;&nbsp;
      <a href="#M000531">set</a>&nbsp;&nbsp;
      <a href="#M000532">set_all</a>&nbsp;&nbsp;
      <a href="#M000533">set_except</a>&nbsp;&nbsp;
      <a href="#M000534">set_only</a>&nbsp;&nbsp;
      <a href="#M000535">this</a>&nbsp;&nbsp;
      <a href="#M000536">update</a>&nbsp;&nbsp;
      <a href="#M000537">update_all</a>&nbsp;&nbsp;
      <a href="#M000538">update_except</a>&nbsp;&nbsp;
      <a href="#M000539">update_only</a>&nbsp;&nbsp;
      <a href="#M000541">valid?</a>&nbsp;&nbsp;
      <a href="#M000540">validate</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">



    <div id="aliases-list">
      <h3 class="section-bar">External Aliases</h3>

      <div class="name-list">
                        <table summary="aliases">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">class</td>
          <td>-&gt;</td>
          <td class="context-item-value">model</td>
        </tr>
      <tr class="top-aligned-row context-row">
        <td>&nbsp;</td>
        <td colspan="2" class="context-item-desc">
class is defined in <a href="../../Object.html">Object</a>, but it is also
a keyword, and since a lot of instance methods call class methods, <a
href="InstanceMethods.html#M000535">this</a> alias makes it so you can use
model instead of self.class.

</td>
      </tr>
                        </table>
      </div>
    </div>


    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">values</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The <a href="InstanceMethods.html#M000520">hash</a> of attribute values.
Keys are symbols with the names of the underlying database columns.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000507" class="method-detail">
        <a name="M000507"></a>

        <div class="method-heading">
          <a href="#M000507" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(values = {}, from_db = false) {|self if block_given?| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates <a href="InstanceMethods.html#M000507">new</a> instance and passes
the given values to <a href="InstanceMethods.html#M000531">set</a>. If a
block is given, yield the instance to the block unless from_db is true.
This method runs the after_initialize hook after it has optionally yielded
itself to the block.
</p>
<p>
Arguments:
</p>
<ul>
<li>values - should be a <a href="InstanceMethods.html#M000520">hash</a> to
pass to <a href="InstanceMethods.html#M000531">set</a>.

</li>
<li>from_db - should only be <a href="InstanceMethods.html#M000531">set</a> by
Model.load, forget it exists.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000507-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000507-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 500</span>
500:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">values</span> = {}, <span class="ruby-identifier">from_db</span> = <span class="ruby-keyword kw">false</span>)
501:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">from_db</span>
502:           <span class="ruby-ivar">@new</span> = <span class="ruby-keyword kw">false</span>
503:           <span class="ruby-ivar">@values</span> = <span class="ruby-identifier">values</span>
504:         <span class="ruby-keyword kw">else</span>
505:           <span class="ruby-ivar">@values</span> = {}
506:           <span class="ruby-ivar">@new</span> = <span class="ruby-keyword kw">true</span>
507:           <span class="ruby-identifier">set</span>(<span class="ruby-identifier">values</span>)
508:           <span class="ruby-identifier">changed_columns</span>.<span class="ruby-identifier">clear</span> 
509:           <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
510:         <span class="ruby-keyword kw">end</span>
511:         <span class="ruby-identifier">after_initialize</span>
512:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000510" class="method-detail">
        <a name="M000510"></a>

        <div class="method-heading">
          <a href="#M000510" class="method-signature">
          <span class="method-name">==</span><span class="method-args">(obj)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Compares model instances by values.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000510-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000510-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 538</span>
538:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">obj</span>)
539:         (<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">model</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">values</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@values</span>)
540:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000512" class="method-detail">
        <a name="M000512"></a>

        <div class="method-heading">
          <a href="#M000512" class="method-signature">
          <span class="method-name">===</span><span class="method-args">(obj)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
If <a href="InstanceMethods.html#M000525">pk</a> is not nil, true only if
the objects have the same class and <a
href="InstanceMethods.html#M000525">pk</a>. If <a
href="InstanceMethods.html#M000525">pk</a> is nil, false.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000512-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000512-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 545</span>
545:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">===</span>(<span class="ruby-identifier">obj</span>)
546:         <span class="ruby-identifier">pk</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">false</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">model</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">pk</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">pk</span>)
547:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000508" class="method-detail">
        <a name="M000508"></a>

        <div class="method-heading">
          <a href="#M000508" class="method-signature">
          <span class="method-name">[]</span><span class="method-args">(column)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns value of the column&#8216;s attribute.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000508-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000508-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 515</span>
515:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">column</span>)
516:         <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">column</span>]
517:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000509" class="method-detail">
        <a name="M000509"></a>

        <div class="method-heading">
          <a href="#M000509" class="method-signature">
          <span class="method-name">[]=</span><span class="method-args">(column, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets value of the column&#8216;s attribute and marks the column as changed.
If the column already has the same value, <a
href="InstanceMethods.html#M000535">this</a> is a no-op. Note that changing
a columns value and then changing it back will cause the column to appear
in <a href="InstanceMethods.html#M000514">changed_columns</a>. Similarly,
providing a value that is different from the column&#8216;s current value
but is the same after typecasting will also cause <a
href="InstanceMethods.html#M000514">changed_columns</a> to include the
column.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000509-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000509-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 526</span>
526:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">column</span>, <span class="ruby-identifier">value</span>)
527:         <span class="ruby-comment cmt"># If it is new, it doesn't have a value yet, so we should</span>
528:         <span class="ruby-comment cmt"># definitely set the new value.</span>
529:         <span class="ruby-comment cmt"># If the column isn't in @values, we can't assume it is</span>
530:         <span class="ruby-comment cmt"># NULL in the database, so assume it has changed.</span>
531:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new?</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@values</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">column</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">column</span>]
532:           <span class="ruby-identifier">changed_columns</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">column</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">changed_columns</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">column</span>)
533:           <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">typecast_value</span>(<span class="ruby-identifier">column</span>, <span class="ruby-identifier">value</span>)
534:         <span class="ruby-keyword kw">end</span>
535:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000513" class="method-detail">
        <a name="M000513"></a>

        <div class="method-heading">
          <a href="#M000513" class="method-signature">
          <span class="method-name">associations</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The current cached <a href="InstanceMethods.html#M000513">associations</a>.
A <a href="InstanceMethods.html#M000520">hash</a> with the <a
href="InstanceMethods.html#M000523">keys</a> being the association name
symbols and the values being the associated object or nil (many_to_one), or
the array of associated objects (*_to_many).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000513-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000513-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 558</span>
558:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">associations</span>
559:         <span class="ruby-ivar">@associations</span> <span class="ruby-operator">||=</span> {}
560:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000514" class="method-detail">
        <a name="M000514"></a>

        <div class="method-heading">
          <a href="#M000514" class="method-signature">
          <span class="method-name">changed_columns</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The columns that have been updated. This isn&#8216;t completely accurate,
see <a href="../Model.html">Model</a>#[]=.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000514-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000514-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 564</span>
564:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">changed_columns</span>
565:         <span class="ruby-ivar">@changed_columns</span> <span class="ruby-operator">||=</span> []
566:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000515" class="method-detail">
        <a name="M000515"></a>

        <div class="method-heading">
          <a href="#M000515" class="method-signature">
          <span class="method-name">delete</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deletes and returns self. Does not run <a
href="InstanceMethods.html#M000516">destroy</a> hooks. Look into using <a
href="InstanceMethods.html#M000516">destroy</a> instead.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000515-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000515-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 570</span>
570:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>
571:         <span class="ruby-identifier">this</span>.<span class="ruby-identifier">delete</span>
572:         <span class="ruby-keyword kw">self</span>
573:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000516" class="method-detail">
        <a name="M000516"></a>

        <div class="method-heading">
          <a href="#M000516" class="method-signature">
          <span class="method-name">destroy</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Like <a href="InstanceMethods.html#M000515">delete</a> but runs hooks
before and after <a href="InstanceMethods.html#M000515">delete</a>. If
before_destroy returns false, returns false without deleting the object the
the database. Otherwise, deletes the item from the database and returns
self. Uses a transaction if use_transactions is true.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000516-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000516-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 580</span>
580:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy</span>
581:         <span class="ruby-identifier">use_transactions</span> <span class="ruby-value">? </span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">transaction</span>{<span class="ruby-identifier">_destroy</span>} <span class="ruby-operator">:</span> <span class="ruby-identifier">_destroy</span>
582:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000517" class="method-detail">
        <a name="M000517"></a>

        <div class="method-heading">
          <a href="#M000517" class="method-signature">
          <span class="method-name">each</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterates through all of the current values using <a
href="InstanceMethods.html#M000517">each</a>.
</p>
<p>
Example:
</p>
<pre>
  Ticket.find(7).each { |k, v| puts &quot;#{k} =&gt; #{v}&quot; }
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000517-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000517-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 588</span>
588:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
589:         <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
590:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000511" class="method-detail">
        <a name="M000511"></a>

        <div class="method-heading">
          <span class="method-name">eql?</span><span class="method-args">(obj)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for #==
</p>
        </div>
      </div>

      <div id="method-M000518" class="method-detail">
        <a name="M000518"></a>

        <div class="method-heading">
          <a href="#M000518" class="method-signature">
          <span class="method-name">errors</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the validation <a href="InstanceMethods.html#M000518">errors</a>
associated with <a href="InstanceMethods.html#M000535">this</a> object.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000518-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000518-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 593</span>
593:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">errors</span>
594:         <span class="ruby-ivar">@errors</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Errors</span>.<span class="ruby-identifier">new</span>
595:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000519" class="method-detail">
        <a name="M000519"></a>

        <div class="method-heading">
          <a href="#M000519" class="method-signature">
          <span class="method-name">exists?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true when current instance exists, false otherwise. Generally an
object that isn&#8216;t <a href="InstanceMethods.html#M000507">new</a> will
exist unless it has been deleted.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000519-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000519-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 600</span>
600:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>
601:         <span class="ruby-identifier">this</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
602:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000520" class="method-detail">
        <a name="M000520"></a>

        <div class="method-heading">
          <a href="#M000520" class="method-signature">
          <span class="method-name">hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Value that should be unique for objects with the same class and <a
href="InstanceMethods.html#M000525">pk</a> (if <a
href="InstanceMethods.html#M000525">pk</a> is not nil), or the same class
and values (if <a href="InstanceMethods.html#M000525">pk</a> is nil).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000520-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000520-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 606</span>
606:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
607:         [<span class="ruby-identifier">model</span>, <span class="ruby-identifier">pk</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@values</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>} <span class="ruby-operator">:</span> <span class="ruby-identifier">pk</span>].<span class="ruby-identifier">hash</span>
608:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000521" class="method-detail">
        <a name="M000521"></a>

        <div class="method-heading">
          <a href="#M000521" class="method-signature">
          <span class="method-name">id</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns value for the :<a href="InstanceMethods.html#M000521">id</a>
attribute, even if the primary key is not <a
href="InstanceMethods.html#M000521">id</a>. To get the primary key value,
use <a href="InstanceMethods.html#M000525">pk</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000521-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000521-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 612</span>
612:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id</span>
613:         <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">:id</span>]
614:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000522" class="method-detail">
        <a name="M000522"></a>

        <div class="method-heading">
          <a href="#M000522" class="method-signature">
          <span class="method-name">inspect</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a string representation of the model instance including the class
name and values.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000522-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000522-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 618</span>
618:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
619:         <span class="ruby-node">&quot;#&lt;#{model.name} @values=#{inspect_values}&gt;&quot;</span>
620:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000523" class="method-detail">
        <a name="M000523"></a>

        <div class="method-heading">
          <a href="#M000523" class="method-signature">
          <span class="method-name">keys</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the <a href="InstanceMethods.html#M000523">keys</a> in values. May
not include all column names.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000523-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000523-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 623</span>
623:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keys</span>
624:         <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">keys</span>
625:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000524" class="method-detail">
        <a name="M000524"></a>

        <div class="method-heading">
          <a href="#M000524" class="method-signature">
          <span class="method-name">new?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if the current instance represents a <a
href="InstanceMethods.html#M000507">new</a> record.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000524-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000524-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 628</span>
628:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new?</span>
629:         <span class="ruby-ivar">@new</span>
630:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000525" class="method-detail">
        <a name="M000525"></a>

        <div class="method-heading">
          <a href="#M000525" class="method-signature">
          <span class="method-name">pk</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the primary key value identifying the model instance. Raises an
error if <a href="InstanceMethods.html#M000535">this</a> model does not
have a primary key. If the model has a composite primary key, returns an
array of values.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000525-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000525-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 635</span>
635:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pk</span>
636:         <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-value str">&quot;No primary key is associated with this model&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key</span> = <span class="ruby-identifier">primary_key</span>
637:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">key</span>
638:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
639:           <span class="ruby-identifier">key</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">k</span>]}
640:         <span class="ruby-keyword kw">else</span>
641:           <span class="ruby-ivar">@values</span>[<span class="ruby-identifier">key</span>]
642:         <span class="ruby-keyword kw">end</span>
643:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000526" class="method-detail">
        <a name="M000526"></a>

        <div class="method-heading">
          <a href="#M000526" class="method-signature">
          <span class="method-name">pk_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a <a href="InstanceMethods.html#M000520">hash</a> identifying the
model instance. It should be true that:
</p>
<pre>
 Model[model_instance.pk_hash] === model_instance
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000526-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000526-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 648</span>
648:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pk_hash</span>
649:         <span class="ruby-identifier">model</span>.<span class="ruby-identifier">primary_key_hash</span>(<span class="ruby-identifier">pk</span>)
650:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000527" class="method-detail">
        <a name="M000527"></a>

        <div class="method-heading">
          <a href="#M000527" class="method-signature">
          <span class="method-name">refresh</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reloads attributes from database and returns self. Also clears all cached
association and <a href="InstanceMethods.html#M000514">changed_columns</a>
information. Raises an <a href="../Error.html">Error</a> if the record no
longer exists in the database.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000527-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000527-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 655</span>
655:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">refresh</span>
656:         <span class="ruby-identifier">_refresh</span>(<span class="ruby-identifier">this</span>)
657:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000528" class="method-detail">
        <a name="M000528"></a>

        <div class="method-heading">
          <a href="#M000528" class="method-signature">
          <span class="method-name">reload</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Alias of <a href="InstanceMethods.html#M000527">refresh</a>, but not
aliased directly to make overriding in a plugin easier.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000528-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000528-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 660</span>
660:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>
661:         <span class="ruby-identifier">refresh</span>
662:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000529" class="method-detail">
        <a name="M000529"></a>

        <div class="method-heading">
          <a href="#M000529" class="method-signature">
          <span class="method-name">save</span><span class="method-args">(*columns)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates or updates the record, after making sure the record is valid. If
the record is not valid, or before_save, before_create (if <a
href="InstanceMethods.html#M000524">new?</a>), or before_update (if !<a
href="InstanceMethods.html#M000524">new?</a>) return false, returns nil
unless raise_on_save_failure is true (if it is true, it raises an error).
Otherwise, returns self. You can provide an optional list of columns to <a
href="InstanceMethods.html#M000536">update</a>, in which case it only
updates those columns.
</p>
<p>
Takes the following options:
</p>
<ul>
<li>:changed - <a href="InstanceMethods.html#M000529">save</a> all changed
columns, instead of all columns or the columns given

</li>
<li>:transaction - <a href="InstanceMethods.html#M000531">set</a> to false not
to use a transaction

</li>
<li>:<a href="InstanceMethods.html#M000540">validate</a> - <a
href="InstanceMethods.html#M000531">set</a> to false not to <a
href="InstanceMethods.html#M000540">validate</a> the model before saving

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000529-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000529-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 677</span>
677:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">columns</span>)
678:         <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
679:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">save_failure</span>(<span class="ruby-identifier">:invalid</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:validate</span>] <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">valid?</span>
680:         <span class="ruby-identifier">use_transaction</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:transaction</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:transaction</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">use_transactions</span>
681:         <span class="ruby-identifier">use_transaction</span> <span class="ruby-value">? </span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">transaction</span>(<span class="ruby-identifier">opts</span>){<span class="ruby-identifier">_save</span>(<span class="ruby-identifier">columns</span>, <span class="ruby-identifier">opts</span>)} <span class="ruby-operator">:</span> <span class="ruby-identifier">_save</span>(<span class="ruby-identifier">columns</span>, <span class="ruby-identifier">opts</span>)
682:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000530" class="method-detail">
        <a name="M000530"></a>

        <div class="method-heading">
          <a href="#M000530" class="method-signature">
          <span class="method-name">save_changes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Saves only changed columns or does nothing if no columns are marked as
chanaged. If no columns have been changed, returns nil. If unable to <a
href="InstanceMethods.html#M000529">save</a>, returns false unless
raise_on_save_failure is true.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000530-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000530-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 687</span>
687:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_changes</span>
688:         <span class="ruby-identifier">save</span>(<span class="ruby-identifier">:changed=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>) <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">changed_columns</span>.<span class="ruby-identifier">empty?</span>
689:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000531" class="method-detail">
        <a name="M000531"></a>

        <div class="method-heading">
          <a href="#M000531" class="method-signature">
          <span class="method-name">set</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Updates the instance with the supplied values with support for virtual
attributes, raising an exception if a value is used that doesn&#8216;t have
a setter method (or ignoring it if strict_param_setting = false). Does not
<a href="InstanceMethods.html#M000529">save</a> the record.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000531-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000531-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 695</span>
695:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set</span>(<span class="ruby-identifier">hash</span>)
696:         <span class="ruby-identifier">set_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>)
697:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000532" class="method-detail">
        <a name="M000532"></a>

        <div class="method-heading">
          <a href="#M000532" class="method-signature">
          <span class="method-name">set_all</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set all values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, ignoring any setting of
allowed_columns or restricted columns in the model.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000532-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000532-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 701</span>
701:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_all</span>(<span class="ruby-identifier">hash</span>)
702:         <span class="ruby-identifier">set_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>)
703:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000533" class="method-detail">
        <a name="M000533"></a>

        <div class="method-heading">
          <a href="#M000533" class="method-signature">
          <span class="method-name">set_except</span><span class="method-args">(hash, *except)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set all values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, except for the <a
href="InstanceMethods.html#M000523">keys</a> given in except.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000533-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000533-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 707</span>
707:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_except</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">except</span>)
708:         <span class="ruby-identifier">set_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">except</span>.<span class="ruby-identifier">flatten</span>)
709:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000534" class="method-detail">
        <a name="M000534"></a>

        <div class="method-heading">
          <a href="#M000534" class="method-signature">
          <span class="method-name">set_only</span><span class="method-args">(hash, *only)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, only if the key is included
in only.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000534-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000534-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 713</span>
713:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_only</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">only</span>)
714:         <span class="ruby-identifier">set_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">only</span>.<span class="ruby-identifier">flatten</span>, <span class="ruby-keyword kw">false</span>)
715:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000535" class="method-detail">
        <a name="M000535"></a>

        <div class="method-heading">
          <a href="#M000535" class="method-signature">
          <span class="method-name">this</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns (naked) dataset that should return only <a
href="InstanceMethods.html#M000535">this</a> instance.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000535-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000535-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 718</span>
718:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">this</span>
719:         <span class="ruby-ivar">@this</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">pk_hash</span>).<span class="ruby-identifier">limit</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">naked</span>
720:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000536" class="method-detail">
        <a name="M000536"></a>

        <div class="method-heading">
          <a href="#M000536" class="method-signature">
          <span class="method-name">update</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Runs <a href="InstanceMethods.html#M000531">set</a> with the passed <a
href="InstanceMethods.html#M000520">hash</a> and runs <a
href="InstanceMethods.html#M000530">save_changes</a> (which runs any
callback methods).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000536-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000536-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 723</span>
723:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">hash</span>)
724:         <span class="ruby-identifier">update_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>)
725:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000537" class="method-detail">
        <a name="M000537"></a>

        <div class="method-heading">
          <a href="#M000537" class="method-signature">
          <span class="method-name">update_all</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Update all values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, ignoring any setting of
allowed_columns or restricted columns in the model.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000537-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000537-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 729</span>
729:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">hash</span>)
730:         <span class="ruby-identifier">update_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>)
731:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000538" class="method-detail">
        <a name="M000538"></a>

        <div class="method-heading">
          <a href="#M000538" class="method-signature">
          <span class="method-name">update_except</span><span class="method-args">(hash, *except)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Update all values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, except for the <a
href="InstanceMethods.html#M000523">keys</a> given in except.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000538-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000538-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 735</span>
735:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_except</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">except</span>)
736:         <span class="ruby-identifier">update_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">except</span>.<span class="ruby-identifier">flatten</span>)
737:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000539" class="method-detail">
        <a name="M000539"></a>

        <div class="method-heading">
          <a href="#M000539" class="method-signature">
          <span class="method-name">update_only</span><span class="method-args">(hash, *only)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Update the values using the entries in the <a
href="InstanceMethods.html#M000520">hash</a>, only if the key is included
in only.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000539-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000539-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 741</span>
741:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_only</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">only</span>)
742:         <span class="ruby-identifier">update_restricted</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">only</span>.<span class="ruby-identifier">flatten</span>, <span class="ruby-keyword kw">false</span>)
743:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000541" class="method-detail">
        <a name="M000541"></a>

        <div class="method-heading">
          <a href="#M000541" class="method-signature">
          <span class="method-name">valid?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Validates the object and returns true if no <a
href="InstanceMethods.html#M000518">errors</a> are reported.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000541-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000541-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 752</span>
752:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">valid?</span>
753:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">clear</span>
754:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">before_validation</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
755:           <span class="ruby-identifier">save_failure</span>(<span class="ruby-identifier">:validation</span>)
756:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
757:         <span class="ruby-keyword kw">end</span>
758:         <span class="ruby-identifier">validate</span>
759:         <span class="ruby-identifier">after_validation</span>
760:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">empty?</span>
761:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000540" class="method-detail">
        <a name="M000540"></a>

        <div class="method-heading">
          <a href="#M000540" class="method-signature">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Validates the object. If the object is invalid, <a
href="InstanceMethods.html#M000518">errors</a> should be added to the <a
href="InstanceMethods.html#M000518">errors</a> attribute. By default, does
nothing, as all models are valid by default.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000540-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000540-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sequel/model/base.rb, line 748</span>
748:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>
749:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>